###############################################################################
#
# IAR ANSI C/C++ Compiler V8.32.1.169/W32 for ARM         21/May/2019  22:07:21
# Copyright 1999-2018 IAR Systems AB.
#
#    Cpu mode     =  
#    Endian       =  little
#    Source file  =  C:\Users\que\Desktop\AAA_xinbiao\xiugai\lib\common\pit.c
#    Command line =  
#        -f C:\Users\TEMPLA~1.000\AppData\Local\Temp\EW48AC.tmp
#        (C:\Users\que\Desktop\AAA_xinbiao\xiugai\lib\common\pit.c -D LPLD_K60
#        -lCN
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\RAM\List"
#        -lB
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\RAM\List"
#        -o
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\RAM\Obj"
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config "D:\@@\605110 IAR for
#        ARM 8.30\arm\inc\c\DLib_Config_Normal.h" -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\app\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\CPU\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\common\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\LPLD\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\LPLD\HW\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\LPLD\DEV\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\uCOS-II\Ports\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\uCOS-II\Source\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\FatFs\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\FatFs\option\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\USB\common\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\USB\driver\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\USB\descriptor\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\USB\class\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\Me\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\app\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\app\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\common\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\CPU\"
#        -I
#        "C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\..\..\..\lib\Jay\"
#        -Ol -I "D:\@@\605110 IAR for ARM 8.30\arm\CMSIS\Core\Include\" -I
#        "D:\@@\605110 IAR for ARM 8.30\arm\CMSIS\DSP\Include\" -D
#        ARM_MATH_CM4)
#    Locale       =  C
#    List file    =  
#        C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\RAM\List\pit.lst
#    Object file  =  
#        C:\Users\que\Desktop\AAA_xinbiao\xiugai\project\28-(SDHC)LPLD_SdCard\iar\RAM\Obj\pit.o
#
###############################################################################

C:\Users\que\Desktop\AAA_xinbiao\xiugai\lib\common\pit.c
      1          #include "common.h"
      2          #include "include.h"

   \                                 In section .bss, align 4
      3          PIT_InitTypeDef pit1_init_struct;
   \                     pit1_init_struct:
   \        0x0                      DS8 20

   \                                 In section .bss, align 4
      4          PIT_InitTypeDef pit_init_struct;
   \                     pit_init_struct:
   \        0x0                      DS8 20
      5          void ic_isr();
      6          //void clear();
      7          
      8          

   \                                 In section .bss, align 4
      9          float LC = 0.0f;
   \                     LC:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
     10          float RC = 0.0f;
   \                     RC:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
     11          float K = 0.0f;
   \                     K:
   \        0x0                      DS8 4
     12          //int twinkle_delay = 10;

   \                                 In section .bss, align 4
     13          int a = 0;
   \                     a:
   \        0x0                      DS8 4

   \                                 In section .data, align 1
     14          boolean sctl = 1;
   \                     sctl:
   \        0x0   0x01               DC8 1

   \                                 In section .bss, align 1
     15          boolean cctl = 0;
   \                     cctl:
   \        0x0                      DS8 1
     16          void pit_init();

   \                                 In section .bss, align 1
     17          boolean CCD_CTL_OPEN = 0;
   \                     CCD_CTL_OPEN:
   \        0x0                      DS8 1

   \                                 In section .bss, align 1
     18          boolean CCD_TIME_OPEN = 0;
   \                     CCD_TIME_OPEN:
   \        0x0                      DS8 1

   \                                 In section .data, align 1
     19          boolean LuBang = 1;
   \                     LuBang:
   \        0x0   0x01               DC8 1
     20          
     21          

   \                                 In section .bss, align 4
     22          int CCD_TIME = 0;
   \                     CCD_TIME:
   \        0x0                      DS8 4
     23          
     24          extern s16 Right_front_speed;/*右前轮速度*/
     25          extern s16 Left_front_speed;/*左前轮速度*/
     26          extern s16 Left_front_goalspeed;/*左前轮目标速度*/
     27          extern s16 Right_front_goalspeed;/*右前轮目标速度*/
     28          
     29          extern s16 Right_rear_speed;/*右后轮速度*/
     30          extern s16 Left_rear_speed;/*左后轮速度*/
     31          extern s16 Left_rear_goalspeed;/*左后轮目标速度*/
     32          extern s16 Right_rear_goalspeed;/*右后轮目标速度*/
     33          
     34          extern _pid_t pid_left_front;     /*结构体 左前轮PID参数*/
     35          extern _pid_t pid_right_front;		/*结构体 右前轮PID参数*/
     36          extern _pid_t pid_left_rear;			/*结构体 左后轮PID参数*/
     37          extern _pid_t pid_right_rear;			/*结构体 右后轮PID参数*/
     38          extern s16 twinkle_delay;/*闪烁延时参数*/
     39          
     40          
     41          /*
     42          * 初始化PIT定时器
     43          *
     44          */
     45          

   \                                 In section .bss, align 4
     46          int back_count = 0;
   \                     back_count:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
     47          int back_stop = 0;
   \                     back_stop:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
     48          int two_ms=0;
   \                     two_ms:
   \        0x0                      DS8 4

   \                                 In section .bss, align 1
     49          u8 inct = 0;
   \                     inct:
   \        0x0                      DS8 1

   \                                 In section .text, align 2, keep-with-next
     50          void pit_init()
     51          {
   \                     pit_init: (+1)
   \        0x0   0xB51C             PUSH     {R2-R4,LR}
     52            //配置定时周期中断参数
     53            pit_init_struct.PIT_Pitx = PIT0;
   \        0x2   0x....             LDR.N    R4,??DataTable2
   \        0x4   0x2000             MOVS     R0,#+0
   \        0x6   0x7020             STRB     R0,[R4, #+0]
     54            pit_init_struct.PIT_PeriodMs = 2;    //2毫秒产生一起中断
   \        0x8   0x2002             MOVS     R0,#+2
   \        0xA   0x60A0             STR      R0,[R4, #+8]
     55            pit_init_struct.PIT_Isr = ic_isr;
   \        0xC   0x....'....        ADR.W    R0,ic_isr
   \       0x10   0x6120             STR      R0,[R4, #+16]
     56            //初始化PIT
     57            LPLD_PIT_Init(pit_init_struct);
   \       0x12   0x0021             MOVS     R1,R4
   \       0x14   0xB084             SUB      SP,SP,#+16
   \       0x16   0x4668             MOV      R0,SP
   \       0x18   0x2214             MOVS     R2,#+20
   \       0x1A   0x....'....        BL       __aeabi_memcpy4
   \       0x1E   0xBC0F             POP      {R0-R3}
   \       0x20   0x....'....        BL       LPLD_PIT_Init
     58            //使能PIT定时中断
     59            LPLD_PIT_EnableIrq(pit_init_struct);
   \       0x24   0x0021             MOVS     R1,R4
   \       0x26   0xB084             SUB      SP,SP,#+16
   \       0x28   0x4668             MOV      R0,SP
   \       0x2A   0x2214             MOVS     R2,#+20
   \       0x2C   0x....'....        BL       __aeabi_memcpy4
   \       0x30   0xBC0F             POP      {R0-R3}
   \       0x32   0x....'....        BL       LPLD_PIT_EnableIrq
     60          }
   \       0x36   0xBD13             POP      {R0,R1,R4,PC}    ;; return
     61          

   \                                 In section .bss, align 4
     62          int P1,P2,P3,P4;
   \                     `P1`:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
   \                     `P2`:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
   \                     `P3`:
   \        0x0                      DS8 4

   \                                 In section .bss, align 4
   \                     `P4`:
   \        0x0                      DS8 4
     63          

   \                                 In section .text, align 2, keep-with-next
     64          void delay_p(void)
     65          {
     66            inct++;
   \                     delay_p: (+1)
   \        0x0   0x....             LDR.N    R0,??DataTable2_1
   \        0x2   0x7801             LDRB     R1,[R0, #+0]
   \        0x4   0x1C49             ADDS     R1,R1,#+1
   \        0x6   0x7001             STRB     R1,[R0, #+0]
     67          }
   \        0x8   0x4770             BX       LR               ;; return
     68          /*
     69          * PIT中断函数
     70          */

   \                                 In section .text, align 4, keep-with-next
     71          void ic_isr()
     72          {
   \                     ic_isr: (+1)
   \        0x0   0xB5F8             PUSH     {R3-R7,LR}
     73            
     74              two_ms++;
   \        0x2   0x....             LDR.N    R1,??DataTable2_2
   \        0x4   0x6808             LDR      R0,[R1, #+0]
   \        0x6   0x1C40             ADDS     R0,R0,#+1
   \        0x8   0x6008             STR      R0,[R1, #+0]
     75              if(two_ms%500==0)
   \        0xA   0xF44F 0x70FA      MOV      R0,#+500
   \        0xE   0x680A             LDR      R2,[R1, #+0]
   \       0x10   0x6809             LDR      R1,[R1, #+0]
   \       0x12   0xFB91 0xF1F0      SDIV     R1,R1,R0
   \       0x16   0xFB00 0x2011      MLS      R0,R0,R1,R2
   \       0x1A   0x2800             CMP      R0,#+0
   \       0x1C   0xD105             BNE.N    ??ic_isr_0
     76              {
     77                fps1_n = fps_num1_n;
   \       0x1E   0x....             LDR.N    R0,??DataTable2_3
   \       0x20   0x6801             LDR      R1,[R0, #+0]
   \       0x22   0x....             LDR.N    R2,??DataTable2_4
   \       0x24   0x6011             STR      R1,[R2, #+0]
     78                fps_num1_n=0;
   \       0x26   0x2100             MOVS     R1,#+0
   \       0x28   0x6001             STR      R1,[R0, #+0]
     79              }
     80             
     81          	/* LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch1, 0);//右上反
     82               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch0, 2500);
     83               
     84               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch3, 2500);
     85               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch2, 0);//左上反
     86               
     87               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch5, 2500);//左下正
     88               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch4, 0);
     89               
     90               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch7, 0);
     91               LPLD_FTM_PWM_ChangeDuty(FTM0, FTM_Ch6, 2500);//右下正*/
     92           // if(twinkle_delay>0)twinkle_delay--;    
     93              l1_reSpeed=right_getSpeed();
   \                     ??ic_isr_0: (+1)
   \       0x2A   0x....             LDR.N    R6,??DataTable2_5
   \       0x2C   0x....'....        BL       right_getSpeed
   \       0x30   0x6030             STR      R0,[R6, #+0]
     94              r1_reSpeed=ftm2_getSpeed();
   \       0x32   0x....             LDR.N    R7,??DataTable2_6
   \       0x34   0x....'....        BL       ftm2_getSpeed
   \       0x38   0x6038             STR      R0,[R7, #+0]
     95          
     96              r2_reSpeed=ftm1_getSpeed();
   \       0x3A   0x....             LDR.N    R4,??DataTable2_7
   \       0x3C   0x....'....        BL       ftm1_getSpeed
   \       0x40   0x6020             STR      R0,[R4, #+0]
     97          
     98              l2_reSpeed=getspeed(); 
   \       0x42   0x....             LDR.N    R5,??DataTable2_8
   \       0x44   0x....'....        BL       getspeed
   \       0x48   0x6028             STR      R0,[R5, #+0]
     99              KeyScan();
   \       0x4A   0x....'....        BL       KeyScan
    100             // KeyScan();
    101            P1 = (int)PID_Control(  l1_reSpeed, Left_rear_goalspeed );
   \       0x4E   0x....             LDR.N    R0,??DataTable2_9
   \       0x50   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \       0x54   0x....'....        BL       __aeabi_i2f
   \       0x58   0x0001             MOVS     R1,R0
   \       0x5A   0x6830             LDR      R0,[R6, #+0]
   \       0x5C   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \       0x5E   0x....'....        BL       PID_Control
   \       0x62   0x....'....        BL       __aeabi_f2iz
   \       0x66   0x....             LDR.N    R1,??DataTable2_10
   \       0x68   0x6008             STR      R0,[R1, #+0]
    102            P2 = (int)PID_Control(r1_reSpeed, Left_front_goalspeed);
   \       0x6A   0x....             LDR.N    R0,??DataTable2_11
   \       0x6C   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \       0x70   0x....'....        BL       __aeabi_i2f
   \       0x74   0x0001             MOVS     R1,R0
   \       0x76   0x6838             LDR      R0,[R7, #+0]
   \       0x78   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \       0x7A   0x....'....        BL       PID_Control
   \       0x7E   0x....'....        BL       __aeabi_f2iz
   \       0x82   0x....             LDR.N    R1,??DataTable2_12
   \       0x84   0x6008             STR      R0,[R1, #+0]
    103            P3 = (int)PID_Control( l2_reSpeed, Right_rear_goalspeed );
   \       0x86   0x....             LDR.N    R0,??DataTable2_13
   \       0x88   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \       0x8C   0x....'....        BL       __aeabi_i2f
   \       0x90   0x0001             MOVS     R1,R0
   \       0x92   0x6828             LDR      R0,[R5, #+0]
   \       0x94   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \       0x96   0x....'....        BL       PID_Control
   \       0x9A   0x....'....        BL       __aeabi_f2iz
   \       0x9E   0x....             LDR.N    R1,??DataTable2_14
   \       0xA0   0x6008             STR      R0,[R1, #+0]
    104            P4 = (int)PID_Control( r2_reSpeed, Right_front_goalspeed);   
   \       0xA2   0x....             LDR.N    R0,??DataTable2_15
   \       0xA4   0xF9B0 0x0000      LDRSH    R0,[R0, #+0]
   \       0xA8   0x....'....        BL       __aeabi_i2f
   \       0xAC   0x0001             MOVS     R1,R0
   \       0xAE   0x6820             LDR      R0,[R4, #+0]
   \       0xB0   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \       0xB2   0x....'....        BL       PID_Control
   \       0xB6   0x....'....        BL       __aeabi_f2iz
   \       0xBA   0x....             LDR.N    R1,??DataTable2_16
   \       0xBC   0x6008             STR      R0,[R1, #+0]
    105          //  
    106             Motor_control();
   \       0xBE   0x....'....        BL       Motor_control
    107          
    108          }
   \       0xC2   0xBDF1             POP      {R0,R4-R7,PC}    ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2:
   \        0x0   0x....'....        DC32     pit_init_struct

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_1:
   \        0x0   0x....'....        DC32     inct

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_2:
   \        0x0   0x....'....        DC32     two_ms

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_3:
   \        0x0   0x....'....        DC32     fps_num1_n

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_4:
   \        0x0   0x....'....        DC32     fps1_n

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_5:
   \        0x0   0x....'....        DC32     l1_reSpeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_6:
   \        0x0   0x....'....        DC32     r1_reSpeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_7:
   \        0x0   0x....'....        DC32     r2_reSpeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_8:
   \        0x0   0x....'....        DC32     l2_reSpeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_9:
   \        0x0   0x....'....        DC32     Left_rear_goalspeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_10:
   \        0x0   0x....'....        DC32     `P1`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_11:
   \        0x0   0x....'....        DC32     Left_front_goalspeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_12:
   \        0x0   0x....'....        DC32     `P2`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_13:
   \        0x0   0x....'....        DC32     Right_rear_goalspeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_14:
   \        0x0   0x....'....        DC32     `P3`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_15:
   \        0x0   0x....'....        DC32     Right_front_goalspeed

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable2_16:
   \        0x0   0x....'....        DC32     `P4`
    109          
    110          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   delay_p
      24   ic_isr
        24   -> KeyScan
        24   -> Motor_control
        24   -> PID_Control
        24   -> __aeabi_f2iz
        24   -> __aeabi_i2f
        24   -> ftm1_getSpeed
        24   -> ftm2_getSpeed
        24   -> getspeed
        24   -> right_getSpeed
      32   pit_init
        16   -> LPLD_PIT_EnableIrq
        16   -> LPLD_PIT_Init
        32   -> __aeabi_memcpy4


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable2
       4  ??DataTable2_1
       4  ??DataTable2_10
       4  ??DataTable2_11
       4  ??DataTable2_12
       4  ??DataTable2_13
       4  ??DataTable2_14
       4  ??DataTable2_15
       4  ??DataTable2_16
       4  ??DataTable2_2
       4  ??DataTable2_3
       4  ??DataTable2_4
       4  ??DataTable2_5
       4  ??DataTable2_6
       4  ??DataTable2_7
       4  ??DataTable2_8
       4  ??DataTable2_9
       1  CCD_CTL_OPEN
       4  CCD_TIME
       1  CCD_TIME_OPEN
       4  K
       4  LC
       1  LuBang
       4  P1
       4  P2
       4  P3
       4  P4
       4  RC
       4  a
       4  back_count
       4  back_stop
       1  cctl
      10  delay_p
     196  ic_isr
       1  inct
      20  pit1_init_struct
      56  pit_init
      20  pit_init_struct
       1  sctl
       4  two_ms

 
  92 bytes in section .bss
   2 bytes in section .data
 330 bytes in section .text
 
 330 bytes of CODE memory
  94 bytes of DATA memory

Errors: none
Warnings: 1
